<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			#dm {
				width: 650px;
				height: 450px;
				border: 1px solid #ddd;
				margin: 100px auto 10px;
			}
			#shank {
				width: 100%;
				height: 300px;
				
				position: relative;
			}
			p {
				text-align: center;
			}
			span{
				color: red;
				font-size:14px;
				font-family: "微软雅黑";
				position: absolute;
				top: 0;
				left: 650px;
				white-space: nowrap;
			}
		</style>
	</head>
	<body>
		<div id="dm">
			<div id="shank">
				
			</div>
		</div>
		<p>
			<input type="text"  id="txt" placeholder="请输入内容……" />
			<input type="button" id="btn" value="发送" />
			<input type="button" id="hide" value="隐藏" />
		</p>
		
		<script type="text/javascript">
			var oShank = document.getElementById("shank");
			var oTxt = document.getElementById("txt");
			var oBtn = document.getElementById("btn");
			var oHide = document.getElementById("hide");
			var onOff= true;
			var oTop = 0;
			var sH = oShank.offsetHeight;
			
			oBtn.onclick = function(){
				var val = oTxt.value;
				if( val ){
					var span = document.createElement('span');
					span.innerHTML = val;
					oShank.appendChild( span );
					oTxt.value = '';
				};
				span.style.top = oTop + 'px';
				oTop += 20;
				if( oTop > sH - 20 ){
					oTop = 5;
				};
				var sL = span.offsetLeft;
				var timer = setInterval(function(){
					sL--;
					span.style.left = sL + 'px';
					if( sL < -span.offsetWidth ){
						clearInterval( timer );
						oShank.removeChild(span);
					};
				},randTime());
			};
			oHide['onclick'] = function(){
				if( onOff ){
					oShank.style.opacity = 0;
					oHide.value = '显示';
					onOff = false;
				}else{
					oShank.style.opacity = 1;
					oHide.value = '隐藏';
					onOff = true;
				}
			};
			function randTime(){
				return Math.random()*10 + 14;
			}
		</script>
		
	</body>
</html>
