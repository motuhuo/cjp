<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<style>
	*{margin:0;padding:0;}
	ul {width:400px; height:40px; position:relative; margin:100px auto; }
	ul li {width:98px; height:38px; border:1px solid black; list-style:none; text-align:center; line-height:40px; float:left; position:relative; z-index:2; cursor: pointer;}
	.last {width:100px; height:5px; z-index:1; overflow:hidden;  border:none; background:red; position:absolute; clear:left; margin-top:35px;}
</style>
<script>
window.onload=function()
{	
	var oUl=document.getElementById('ul1');
	var aLi=oUl.getElementsByTagName('li');
	var bgLi=aLi[aLi.length-1];
	
	
	for (var i=0; i<aLi.length-1; i++)
	{	
		aLi[i].onmouseover=function()
		{
			startMove(bgLi,this.offsetLeft);
		}
	}
}
	var iSpeed=0;
	var left=0;
	function startMove(obj,iTarget)
	{	
		clearInterval(obj.timer);
		obj.timer=setInterval(function()
		{	
			iSpeed+=(iTarget-obj.offsetLeft)/5;
			iSpeed*=0.8;
			left+=iSpeed;           //变量误差相加
		if (Math.abs(iSpeed)<1&&Math.abs(left-iTarget)<1)
		{
			
			obj.style.left=iTarget+'px';
			clearInterval(obj.timer);
		}
		else
		{
			obj.style.left=left+'px';
		}
		//console.log(obj.style.left)
		},30);
	}

</script>
</head>

<body>
<ul id="ul1">
	<li>联系我们</li>
    <li>联系我们</li>
    <li>联系我们</li>
    <li>联系我们</li>
    <li class="last"></li>
</ul>
</body>
</html>
